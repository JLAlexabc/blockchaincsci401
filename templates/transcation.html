{% extends 'base.html' %} 
{% block mainbody %}
  <div class="px-4 py-5 my-5 text-center">
    <h1>Transcation</h1>
    <form action="/transcation/placeorder/{{data.owner['index']}}/{{data.product['product_ID']}}" method="post" enctype="multipart/form-data">
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th scope="col">Owner</th>
          <th scope="col">Certificate Vaild(Owner ship)</th>
          <th scope="col">Chain Vaild</th>
          <th scope="col">Buyer's Key</th>
        </tr>
      </thead>
      <tbody>
    {% if "owner" in data %}
         <tr>
          <td>{{data.owner["user_name"]}}</td>
          <td>{{data.cert_result}}</td>
          <td>{{data.chain_result}}</td>
          <td>
            <input type="file" id="filep" name="filep" required>
        </td>
         </tr>
    {%- endif %} 
        <tr>
            {% if data.cert_result and data.chain_result %}
                <td colspan="5"><button class="btn btn-success" type="submit">Confirm Order</button></td>
            {% else %} 
                <td colspan="5"><a class="btn btn-danger">Invaild Item</td>
            {%- endif %}
        </tr>
      </tbody>
    </table>
</form>
    <pre>
        1. check certifciate for this product_ID
            1.1 need key form user public key
            1.2 check certifciate
        2. check if chian vaild
        3. get buyer's private key upload/or save in server

        for hanlde function(product_ID, pre_owner_id, new_owner_id, or private key upload)
        {{data}}
    </pre>
  </div>
{% endblock mainbody %}
